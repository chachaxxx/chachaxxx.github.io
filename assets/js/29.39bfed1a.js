(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{743:function(o,t,e){"use strict";e.r(t);var p=e(1),i=Object(p.a)({},(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("h1",{attrs:{id:"认证与授权"}},[o._v("认证与授权")]),o._v(" "),e("p",[o._v("认证指通过某些标识验证用户身份。比如说账户密码，手机短信，邮箱验证码，人脸、指纹等。")]),o._v(" "),e("p",[o._v("授权是用户通过认证之后，能够获取哪些资源。")]),o._v(" "),e("p",[o._v("常见的授权模型有3种：")]),o._v(" "),e("ol",[e("li",[e("p",[e("strong",[o._v("ACL")]),o._v("（Access Control List）：ACL中包含用户、资源、资源操作三个关键要素。通过将资源以及资源操作授权给用户而使得用户具有操作某资源的权限。‘")]),o._v(" "),e("p",[o._v("用户=>资源")])]),o._v(" "),e("li",[e("p",[e("strong",[o._v("RBAC")]),o._v("（Role-Based Access Control ）：对用户进行角色分类，通过角色来判断用户是否有对某资源的操作权限。")]),o._v(" "),e("p",[o._v("用户=>角色=>资源")])]),o._v(" "),e("li",[e("p",[e("strong",[o._v("ABAC")]),o._v("（Attribute Base Access Control）：基于计算一个或一组属性是否满足某条件来判断用户是否有操作权限。")]),o._v(" "),e("p",[o._v("用户=>用户属性=>资源")])])]),o._v(" "),e("h1",{attrs:{id:"认证"}},[o._v("认证")]),o._v(" "),e("h2",{attrs:{id:"传统sessionid认证"}},[o._v("传统SessionId认证")]),o._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/049c91629592478087eeb7185eda0051~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp",alt:"img"}})]),o._v(" "),e("p",[o._v("这个凭证的有效期是“会话期间”，所以在关闭浏览器之后，就会自动失效")]),o._v(" "),e("p",[o._v("缺点：session是存储在某服务器当中的。在分布式场景之下，数据无法共用。需要后端解决集群部署sessionId同步问题。")]),o._v(" "),e("h2",{attrs:{id:"token"}},[o._v("token")]),o._v(" "),e("p",[o._v("​\t把token放到集中式缓存或者MySql中")]),o._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb550b4be94d40a586ca10b96bc59110~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp",alt:"img"}})]),o._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd7b500b8a584da3823c5b29f1c0d58f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp",alt:"img"}})]),o._v(" "),e("h2",{attrs:{id:"无需存储的jwt方案"}},[o._v("无需存储的JWT方案")]),o._v(" "),e("p",[o._v("JSON Web Token（简称 JWT）是目前最流行的跨域认证解决方案。")]),o._v(" "),e("p",[o._v("他的主要思路就是，在凭证中直接写明用户的信息，并使用服务端秘钥对用户信息进行加密，生成一个签名。客户端请求时，同时发送用户信息和秘钥，如果服务端验证发送的用户信息加密的结果等于发送的秘钥的话，说明是认证通过的。")]),o._v(" "),e("p",[o._v("将在服务器端获取的token存在localstorage里面")]),o._v(" "),e("p",[o._v("封装请求 header Authoritization 为 token。")]),o._v(" "),e("p",[e("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fac6daeb08f468cab98f377b97d9e22~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?",alt:"image.png"}})]),o._v(" "),e("h3",{attrs:{id:"cookie"}},[o._v("Cookie")]),o._v(" "),e("p",[o._v("在很多地方，会对 Cookie 和 session 进行比较，但在我看来其实两者关系并不是非常大。")]),o._v(" "),e("p",[o._v("Cookie实际上是一小段的文本信息。在客户端访问服务端时，服务端可以通过 "),e("code",[o._v("Set-Cookie")]),o._v(" 向客户端设置Cookie（上面的流程图中有画出来），客户端将其保存起来。当客户端之后请求该网站时，会带上这个Cookie去请求。例如session方案中，JSESSIONID是存在Cookie中的，我们的token和JWT既可以存在Cookie中，也可以存在"),e("code",[o._v("Local Storage")]),o._v("中。")]),o._v(" "),e("p",[o._v("Cookie在客户端是由浏览器来管理的，用户可以自己设置是否启用浏览器的Cookie功能；浏览器来保证百度的Cookie不会被携带着去访问淘宝；浏览器来保证用户的Cookie不会被泄漏（某些安全攻击除外）。")])])}),[],!1,null,null,null);t.default=i.exports}}]);